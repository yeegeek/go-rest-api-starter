# ===========================================
# Go REST API Boilerplate - Base Configuration
# ===========================================
# 
# CONFIGURATION PRIORITY (highest to lowest):
# 1. Environment variables (.env file)
# 2. Environment-specific config (config.production.yaml, config.staging.yaml, etc.)
# 3. This base configuration file (config.yaml) - YOU ARE HERE
#
# üîß Environment variables can override any setting below
# üìù See .env.example for common overrides
# üåç See config.{environment}.yaml for environment-specific defaults
#
# ===========================================

app:
  name: "Go REST API Starter"                  # Override with APP_NAME
  version: "1.0.0"                  # Override with APP_VERSION
  environment: "development"        # Override with APP_ENVIRONMENT
  debug: true                       # Override with APP_DEBUG

database:
  host: "db"                        # Override with DATABASE_HOST
  port: 5432                        # Override with DATABASE_PORT  
  user: "postgres"                  # Override with DATABASE_USER
  password: ""                      # Override with DATABASE_PASSWORD (recommended)
  name: "go_rest_api_starter"       # Override with DATABASE_NAME
  sslmode: "disable"                # Override with DATABASE_SSLMODE
  max_open_conns: 25                # Override with DATABASE_MAX_OPEN_CONNS
  max_idle_conns: 5                 # Override with DATABASE_MAX_IDLE_CONNS
  conn_max_lifetime: 3600           # Override with DATABASE_CONN_MAX_LIFETIME (seconds)
  conn_max_idle_time: 600           # Override with DATABASE_CONN_MAX_IDLE_TIME (seconds)

jwt:
  access_token_ttl: "15m"           # Override with JWT_ACCESS_TOKEN_TTL
  refresh_token_ttl: "168h"         # Override with JWT_REFRESH_TOKEN_TTL
  ttlhours: 24                      # Deprecated: use access_token_ttl instead

server:
  port: "8080"                      # Override with SERVER_PORT
  readtimeout: 10                   # Override with SERVER_READTIMEOUT (seconds)
  writetimeout: 10                  # Override with SERVER_WRITETIMEOUT (seconds)
  idletimeout: 120                  # Override with SERVER_IDLETIMEOUT (seconds)
  shutdowntimeout: 30               # Override with SERVER_SHUTDOWNTIMEOUT (seconds)
  maxheaderbytes: 1048576           # Override with SERVER_MAXHEADERBYTES (1MB default)

logging:
  level: "info"                     # Override with LOGGING_LEVEL (debug|info|warn|error)

ratelimit:
  enabled: true                     # Override with RATELIMIT_ENABLED
  requests: 100                     # Override with RATELIMIT_REQUESTS
  window: "1m"                      # Override with RATELIMIT_WINDOW

migrations:
  directory: "./migrations"         # Override with MIGRATIONS_DIRECTORY
  timeout: 600                      # Override with MIGRATIONS_TIMEOUT (seconds)
  locktimeout: 30                   # Override with MIGRATIONS_LOCKTIMEOUT (seconds)

health:
  timeout: 5                        # Override with HEALTH_TIMEOUT (seconds)
  database_check_enabled: true      # Override with HEALTH_DATABASE_CHECK_ENABLED

redis:
  enabled: false                    # Override with REDIS_ENABLED
  host: "redis"                     # Override with REDIS_HOST
  port: 6379                        # Override with REDIS_PORT
  password: ""                      # Override with REDIS_PASSWORD
  db: 0                             # Override with REDIS_DB

mongodb:
  enabled: false                    # Override with MONGODB_ENABLED
  uri: "mongodb://mongodb:27017"   # Override with MONGODB_URI
  database: "go_rest_api_starter"  # Override with MONGODB_DATABASE